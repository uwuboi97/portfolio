<!DOCTYPE html>
<html>

<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta charset="UTF-8">
    <meta author="Billie">
    <title>works</title>
    <meta name="viewport" content="initial-scale=1">
       <link rel="stylesheet" href="../style.css">


 
</head>

<body>


    <div id="text">
        <div class="title"><span class="name">.../<a href="../index.html">billie sng</a><a href="../about.hmtl">/about</a> </span></div>
        <div class="list">




            <ul>
                <br>
                <ul id="cat1" class="everything-list">
                    <li class="works">
                    <li>.../<a href="../index.html">2024</a><a class="current">/i wanted to die here</a></li><br>
                    <li class="work">self-publication/installation<br>The Collectible Experience April 2024, Art Outreach</li>
                    <li class="body">The artist explores the displacement of space and memory, and laments the loss of home with the recollection of memory, collected words, and illustrated documentations of space. The work is presented as a storybook, a self-published work of fiction to process the emotions of loss, worry, and love through the voice of a child. Audiences are invited to write, colour, and decorate the book.<br><br>

                        Thematically, this work at once explores the commodification of self i.e. the artists must sell absolute parts of themselves to perpetuate production, and the wish for a gentle parting with home.</li>


                   
                    
                            <img src="../iwantedtodiehere_files/5.png" alt="1" style="width:80%">
                        
                      
                            <img src="../iwantedtodiehere_files/4.jpg" alt="2" style="width:80%">
                      
                       
                            <img src="../iwantedtodiehere_files/3.jpg" alt="3" style="width:80%">
                       
                        
                            <img src="../iwantedtodiehere_files/2.jpg" alt="4" style="width:80%">
                        
                        
                            <img src="../iwantedtodiehere_files/1.jpg" alt="5" style="width:80%">
                        
                    </div>



                </ul>
                <ul id="cat2" class="everything-list"></ul>
                <ul id="cat3" class="everything-list"></ul>
            </ul>
            <br><br>
        </div>
    </div>


    <script type="text/javascript">
        d3.csv("spread.csv").then(function(data) {
                    // Group data by category
                    var nest1 = d3.group(data, d => d.format);
                    var nest2 = d3.group(data, d => d.concept);
                    var nest3temp = d3.group(data, d => d.year);
                    var sortedKeys = Array.from(nest3temp.keys()).sort((a, b) => b - a); // Sort keys in descending order
                    var nest3 = new Map(sortedKeys.map(key => [key, nest3temp.get(key)]));

                    // Select the description list
                    var cat1list = d3.select("#cat1");
                    var cat2list = d3.select("#cat2");
                    var cat3list = d3.select("#cat3");





                    function createCategory(catList, nestedData) {
                        catList.each(function(d) {
                            d3.select(this)
                                .selectAll("ul")
                                .data(nestedData)
                                .enter()
                                .append("li")
                                .html(function(d) {
                                    return "<li>" + d[0].toUpperCase() + "/</li><br>";
                                })
                                .attr("class", "works")
                                .each(function(d) {
                                    d3.select(this)
                                        .selectAll("ul")
                                        .data(d[1])
                                        .enter()
                                        .append("li")
                                        .attr("class", "work")
                                        .style("opacity", 1)
                                        .html(function(item) {
                                            return "<a href='" + item.year + "/" + item.pagelinktitle + ".html'>" + item.title + "</a>";
                                        })
                                        //.transition()
                                        //.duration(1500)
                                        //.style("opacity", 1)
                                        .selectAll("a")
                                        .on("mouseover", function() {
                                            var data = d3.select(this.parentNode).datum(); // Retrieve the original dataset associated with the current list item
                                            var description = data.description;
                                            d3.select(".thumbnail").attr("src", data.imglink).style("opacity", "100%");
                                            d3.select("#description").html('<div id = "textbox">' + data.description + '</div>').transition().duration(500).style("opacity", 1);
                                        })
                                        .on("mouseleave", function(data) {
                                            d3.select(".thumbnail").attr("src", "https://static.tumblr.com/3zmswwt/gL1ny5cm4/2cwrjc00.gif");
                                            d3.select(".textbox").style("opacity", "0");
                                            d3.select("#description").html('<div id = "textbox">' + '</div>').style("opacity", 0);
                                        })
                                });
                        });
                    }


                    function posCategory(catList, nestedData) {
                        catList.each(function(d) {
                            d3.select(this)
                                .selectAll("ul")
                                .data(nestedData)
                                .enter()
                                .append("li")
                                .html(function(d) {
                                    return "<li>" + "</li><br>";
                                })
                                .attr("class", "works")
                                .each(function(d) {
                                    d3.select(this)
                                        .selectAll("ul")
                                        .data(d[1])
                                        .enter()
                                        .append("li")
                                        .attr("class", "work")
                                        .style("opacity", 1)
                                        .html(function(item) {
                                            return "<a href='" + item.year + "/" + item.pagelinktitle + ".html'>" + item.title + "</a>";
                                        })
                                        .selectAll("a")
                                        .on("mouseover", function() {
                                            var data = d3.select(this.parentNode).datum(); // Retrieve the original dataset associated with the current list item
                                            var description = data.description;
                                            d3.select(".thumbnail").attr("src", data.imglink).style("opacity", "100%");
                                            d3.select("#description").html('<div id = "textbox">' + data.description + '</div>').transition().duration(500).style("opacity", 1);
                                        })
                                        .on("mouseleave", function(data) {
                                            d3.select(".thumbnail").attr("src", "https://static.tumblr.com/3zmswwt/gL1ny5cm4/2cwrjc00.gif");
                                            d3.select(".textbox").style("opacity", "0");
                                            d3.select("#description").html('<div id = "textbox">' + '</div>').style("opacity", 0);
                                        })
                                        .style("position", "absolute")
                                        .style("left", function() {
                                            return getRandomPos(window.innerWidth * 0.94) + "px"; // Add random offset to the left position
                                        })
                                        .style("top", function() {
                                            return getRandomPos(window.innerHeight * 0.9) + "px"; // Add random offset to the top position
                                        })
                                        .datum({ // Add velocity data to each element
                                            vx: Math.random() * 2 - 1, // Random velocity in x-direction
                                            vy: Math.random() * 2 - 1 // Random velocity in y-direction
                                        });


                                });
                        });
                    }

                    function animateListElementsSTREAM(catList) {
                        var listElements = catList.selectAll("li *");

                        setInterval(function() {
                            listElements.each(function() {
                                var element = d3.select(this);
                                var newX = getRandomPos(window.innerWidth * 0.94) //parseInt(element.style("left")) + getRandomOffset(200) - 10; // Random change in X direction
                                var newY = getRandomPos(window.innerHeight * 0.9) //parseInt(element.style("top")) + getRandomOffset(200) - 10; // Random change in Y direction

                                element.transition()
                                    .duration(30)
                                    .style("left", newX + "px")
                                    .style("top", newY + "px");
                            });
                        }, 30);
                    }

                    function animateListElementsrunaway(catList) {
                        var listElements = catList.selectAll("li.work > *").datum(function(d) {
                            return d;
                        });

                        function updatePositions() {
                            listElements.each(function() {
                                var element = d3.select(this);
                                var currentX = parseInt(element.style("left"));
                                var currentY = parseInt(element.style("top"));

                                var newX = currentX + getRandomOffset(20) - 10;
                                var newY = currentY + getRandomOffset(20) - 10;

                                element.style("left", newX + "px");
                                element.style("top", newY + "px");
                            });

                            requestAnimationFrame(updatePositions);
                        }
                        updatePositions();
                    }



                    function animateListElementsFLOATER(catList) {
                        var listElements = catList.selectAll("li *").datum(function() {
                            return {
                                vx: 2 * (Math.random() * 2 - 1), // Random velocity in x-direction
                                vy: 2 * (Math.random() * 2 - 1) // Random velocity in y-direction
                            };
                        });

                        function updatePositions() {
                            listElements.each(function(d) {
                                var element = d3.select(this);

                                var currentX = parseFloat(element.style("left")) || 0;
                                var currentY = parseFloat(element.style("top")) || 0;
                                var vx = d.vx || 0;
                                var vy = d.vy || 0;

                                var newX = currentX + vx;
                                var newY = currentY + vy;

                                if (newX < 0 || newX + element.node().getBoundingClientRect().width > window.innerWidth) {
                                    vx *= -1;
                                }
                                if (newY < 0 || newY + element.node().getBoundingClientRect().height > window.innerHeight) {
                                    vy *= -1;
                                }

                                d.vx = vx;
                                d.vy = vy;

                                element.style("left", newX + "px");
                                element.style("top", newY + "px");

                            });

                            requestAnimationFrame(updatePositions);
                        }
                        updatePositions(); // Start the animation loop
                    }


                    createCategory(cat1list, nest1);

                    var mode = 0
                    d3.select("#sort").on("click", function() {

                        if (mode == 0) {
                            mode = 1
                            cat1list.selectAll("li, li *")
                                .transition()
                                .duration(500)
                                .style("opacity", 0)
                                .remove();
                            createCategory(cat2list, nest2);

                            d3.select(this).text("PROGRAM: 2")
                        } else if (mode == 1) {
                            mode = 2

                            cat2list.selectAll("li, li *")
                                .transition()
                                .duration(500)
                                .style("opacity", 0)
                                .remove();
                            createCategory(cat3list, nest3);

                            d3.select(this).text("PROGRAM: 3")
                        } else if (mode == 2) {
                            mode = 3
                            cat3list.selectAll("li, li *")
                                .transition()
                                .duration(500)
                                .style("opacity", 0)
                                .remove();

                            posCategory(cat1list, nest1);
                            animateListElementsFLOATER(cat1list);

                            d3.select(this).text("NIHILIST MODE")

                        } else if (mode == 3) {
                            mode = 4

                            cat1list.selectAll("li, li *")
                                .transition()
                                .duration(500)
                                .style("opacity", 0)
                                .remove();

                            posCategory(cat1list, nest1);
                            animateListElementsSTREAM(cat1list);

                            d3.select(this).text("PROGRAM: ***")

                        } else if (mode == 4) {
                            cat1list.selectAll("li, li *")
                                .transition()
                                .duration(500)
                                .style("opacity", 0)
                                .remove();

                            mode = 0
                            createCategory(cat1list, nest1);
                            d3.select(this).text("PROGRAM: 1")

                        }
                    });

                    /*
  function highlightRandomElement() {
      var listItems = d3.selectAll(".work");
      listItems.classed("highlight", false);
      var randomIndex = Math.floor(Math.random() * listItems.size());
      var randomListItem = listItems.nodes()[randomIndex];
      d3.select(randomListItem).classed("highlight", true);
      data = d3.select(randomListItem).datum(); // Retrieve the original dataset associated with the current list item
      d3.select(".thumbnail").attr("src", data.imglink).style("opacity", "100%")
  }
  */
                    //
                    //            var currentIndex = 0;
                    //
                    //            function highlightNextElement() {
                    //                var listItems = d3.selectAll(".work");
                    //                listItems.classed("highlight", false);
                    //                var listItem = listItems.nodes()[currentIndex];
                    //                d3.select(listItem).classed("highlight", true);
                    //                var data = d3.select(listItem).datum();
                    //                d3.select(".thumbnail").attr("src", data.imglink).style("opacity", "100%");
                    //                currentIndex = (currentIndex + 1) % listItems.size();
                    //            }
                    //
                    //            var highlightInterval //= setInterval(highlightRandomElement, 4000);
                    //            var mouseMoveTimeout;
                    //
                    //            function handleMouseMove(event) {
                    //                clearTimeout(mouseMoveTimeout);
                    //                // d3.select(".thumbnail").attr("src", "https://static.tumblr.com/3zmswwt/gL1ny5cm4/2cwrjc00.gif")
                    //                d3.selectAll(".work").classed("highlight", false);
                    //                var isMouseOverLink = event.target.closest("li.work a");
                    //                if (isMouseOverLink) {
                    //                    clearInterval(highlightInterval);
                    //                    return; // Exit the function early
                    //                }
                    //                clearInterval(highlightInterval);
                    //                mouseMoveTimeout = setTimeout(function() {
                    //                    d3.select(".thumbnail").attr("src", "https://static.tumblr.com/3zmswwt/gL1ny5cm4/2cwrjc00.gif")
                    //                    highlightInterval = setInterval(highlightNextElement, 2500);
                    //                }, 2000);
                    //            }
                    //
                    //            document.body.addEventListener("mousemove", handleMouseMove);
                    //
                    //        });
                    //
                    //
                    //        d3.select(".info").on("click", function() {
                    //            window.open("info-txt.html", 'text', params);
                    //        })

                    function getRandomNumber(min, max) {
                        return Math.random() * (max - min) + min;
                    }

                    function getRandomPos(max) {
                        // Generate a random offset value between -50 and 50 (adjust range as needed)
                        return Math.floor(Math.random() * max);
                    }

                    function getRandomOffset(max) {
                        // Generate a random offset value between -max/2 and max/2
                        return Math.floor(Math.random() * max) - max / 2;
                    }
    </script>

</body></html>
